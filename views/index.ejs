<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Energy Commission of Nigeria</title>

		<!-- <link rel="stylesheet" href="css/css-material.css" /> -->
		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<!-- Waypoints -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
		<!-- Counter-Up -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>

		<link
			rel="stylesheet"
			href="/node_modules/@fortawesome/fontawesome-free/css/all.min.css"
		/>
		<!-- Font Awesome CSS -->

		<!-- custom css -->
		<link rel="stylesheet" href="css/style.css" />
		<style>
			.carousel-container {
				width: 100%;
				margin: 0 auto;
				text-align: center;
				background: white;
				/* padding: 20px;
				box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
				border-radius: 10px; */
				position: relative;
			}
			.report-container .report-content {
				opacity: 0;
				transition: opacity 0.5s ease-in-out;
			}
			.report-title {
				font-size: 20px;
				font-weight: bold;
				margin-bottom: 10px;
			}
			.report-description {
				font-size: 14px;
				color: #555;
				margin-bottom: 20px;
			}
			.nav-buttons {
				display: flex;
				justify-content: space-between;
				position: absolute;
				width: 100%;
				top: 50%;
				transform: translateY(-50%);
			}
			.nav-btn {
				background: none;
				border: none;
				font-size: 24px;
				color: #007bff;
				cursor: pointer;
				transition: 0.3s;
			}
			.nav-btn:disabled {
				color: #aaa;
				cursor: not-allowed;
			}

			.carousel-container .report-container {
				display: flex;
				align-items: center; /* Vertically center items */
				justify-content: center; /* Center content */
				gap: 10px; /* Spacing between buttons and content */
			}

			.nav-btn {
				background-color: #007bff;
				color: white;
				border: none;
				padding: 10px;
				font-size: 18px;
				cursor: pointer;
				border-radius: 5px;
			}

			.nav-btn:disabled {
				background-color: #ccc;
				cursor: not-allowed;
			}

			.report-container .report-content {
				text-align: center;
				max-width: 100%; /* Adjust width as needed */
			}

			.report-container {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 15px; /* Spacing between elements */
				width: 100%;
				max-width: 700px; /* Adjust width as needed */
				margin: auto;
				padding: 20px;
			}

			.nav-btn {
				background: #0e6655;
				color: #fff;
				border: none;
				padding: 10px 15px;
				font-size: 18px;
				cursor: pointer;
				border-radius: 50%;
				transition: background 0.3s;
			}

			.nav-btn:disabled {
				background: #ccc;
				cursor: not-allowed;
			}

			.nav-btn:hover:not(:disabled) {
				background: #0b4d40;
			}

			.report-container .report-content {
				display: flex;
				flex-direction: column;
				align-items: center;
				background: #fff;
				box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
				border-radius: 12px;
				overflow: hidden;
				text-align: center;
				padding: 15px;
				max-width: 400px;
				min-width: 400px; /* Adjust as needed */
				min-height: 400px; /* Adjust based on content */
				max-height: 400px; /* Ensures uniform height */
			}

			.report-file_url {
				width: 100%;
				height: auto;
				max-height: 200px; /* Prevents oversized images */
				object-fit: cover;
				border-radius: 8px;
			}

			.report-title {
				font-size: 18px;
				font-weight: bold;
				margin-top: 25px;
			}

			.report-description {
				font-size: 14px;
				color: #555;
			}
		</style>
	</head>
	<body id="body">
		<i
			id="delete-icon"
			class="fa fa-close"
			style="
				font-size: 48px;
				color: black;
				position: fixed;
				left: 1250px;
				top: 30px;
				z-index: 300;
				display: none;
			"
		></i>
		<div id="search-publications"></div>
		<div id="publications-input">
			<h3>Search Publications</h3>

			<form id="form" method="GET" action="/searchres">
				<input
					id="input-pub"
					name="query"
					type="text"
					placeholder="Search publications..."
					required
				/>
				<button type="submit" class="submit">Search</button>
			</form>
		</div>
		<header>
			<%- include('./partials/navbar') %>
			<section style="padding-top: 80px">
				<div class="container">
					<div id="hero">
						<div class="ecn-initiative-1">
							<!-- <div class="caption">
								<h3>What we do</h3>
								The Energy Commission of Nigeria @Energygovng is set to shape
								the future of air conditioning standards in Nigeria, driving
								advancement in energy efficiency, reducing greenhouse gas
								emissions, and fostering sustainable economic growth.
								
							</div> -->
						</div>
						<div class="latest-news-update">
							<div class="update-caption">
								<div></div>
								<div class="content">
									Energy Commission of Nigeria in Collaboration with Standard
									Organisation of Nigeria and United Nations Environment
									Programme Hosts Technical Committee for the Review of Air
									Conditioners Minimum Energy Performance
									<a href="">Learn More</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section id="vision" class="section container">
				<div class="vision-bucket">
					<!-- <p>Our vision</p>
					<h3 class="hidden-text">
						To
						<font>
							ensure adequate, reliable, cost-effective and sustainable energy
							supply</font
						>
						for the nation’s economic & socio-political development.
					</h3> -->
					<div class="mission-vision">
						<div class="overlay"></div>
						<div class="content">
							<h1>Our Vision</h1>
							<h2>
								To ensure adequate, reliable, cost-effective, and sustainable
								energy supply for Nigeria’s economic and socio-political
								development.
							</h2>
							<h1>Our Mission</h1>
							<h2>
								To promote sustainable energy development in Nigeria through
								strategic planning and coordination of national policies.
							</h2>
						</div>
					</div>
				</div>
				<div id="twitter-news-feed">
					<a
						class="twitter-timeline"
						data-height="400"
						data-tweet-limit="5"
						href="https://twitter.com/Arsenal?ref_src=twsrc%5Etfw"
						>Tweets by Arsenal</a
					>
					<script
						async
						src="https://platform.twitter.com/widgets.js"
						charset="utf-8"
					></script>
				</div>
			</section>
			<section class="section container flex">
				<div class="counter-container">
					<div class="counter" data-count="50">0</div>
					<div class="captions">Successful Pilot Projects</div>
				</div>

				<div
					style="
						height: 100px;
						border: none;
						background-color: #555;
						width: 5px;
						margin: 0 25px;
					"
				></div>
				<div class="counter-container">
					<div class="counter" data-count="120">0</div>
					<div class="captions">Published Energy Articles</div>
				</div>
			</section>

			<section id="latest-news" class="section container curved-bottom">
				<h2><font>Latest</font> Energy News</h2>
				<p>
					Get the latest updates and insights on energy developments in Nigeria.
				</p>
				<div class="news-latest">
					<% trimNews.forEach((news)=>{%>

					<div class="news-block">
						<div
							class="img"
							style="background-image: url('<%= news.image_1 %>')"
						></div>
						<div class="text">
							<h3><%=news.title %></h3>
							<p><%=news.content%></p>

							<a href="news/<%=news.id %>">Read More</a>
						</div>
					</div>

					<%})%>
				</div>
			</section>

			<section id="reports" class="section container">
				<h2 style="font-size: 28px"><font>Our</font> Reports</h2>
				<p>
					Access our comprehensive reports on energy development in Nigeria.
				</p>
				<!-- <div class="card-holder">
					<% results.forEach(res => { %>

					<div class="card">
						<img src="<%=res.image_path %>" alt="" />
						<div style="padding: 5px">
							<h2><%=res.title %></h2>
							<p><%=res.description %></p>
							<a href="downloads/<%=res.id%>">Download</a>
						</div>
					</div>

					<% }) %>
				</div> -->
				<div class="carousel-container">
					<div class="report-container">
						<button class="nav-btn" id="prev" disabled>
							<i class="fas fa-chevron-left"></i>
						</button>

						<div class="report-content">
							<img class="report-file_url" src="" alt="" />

							<p class="report-title"></p>
							<a download class="download-btn"> Download Report </a>
						</div>

						<button class="nav-btn" id="next">
							<i class="fas fa-chevron-right"></i>
						</button>
					</div>
				</div>
			</section>
		</header>
		<%- include('./partials/footer') %>
		<script>
			const reports = <%- JSON.stringify(results) %>;
			           // Inject MySQL data from Node.js
			let currentIndex = 0;

			const titleElement = document.querySelector(".report-title");
			const descriptionElement = document.querySelector(".report-description");
			const contentContainer = document.querySelector(".report-content");
			const downloadPath = document.querySelector(".download-btn")
			const file_urlContainer = document.querySelector(".report-file_url")
			const prevButton = document.getElementById("prev");
			const nextButton = document.getElementById("next");

			function updateReport() {
			    contentContainer.style.opacity = "0";
			    setTimeout(() => {
			        titleElement.textContent = reports[currentIndex].title;
			        // descriptionElement.textContent = reports[currentIndex].description;
			        file_urlContainer.src = reports[currentIndex].image_path;
					document.querySelector(".download-btn").setAttribute("href", reports[currentIndex].download_path);
			        contentContainer.style.opacity = "1";
			    }, 300);

			    prevButton.disabled = currentIndex === 0;
			    nextButton.disabled = currentIndex === reports.length - 1;
			}

			prevButton.addEventListener("click", () => {
			    if (currentIndex > 0) {
			        currentIndex--;
			        updateReport();
			    }
			});

			nextButton.addEventListener("click", () => {
			    if (currentIndex < reports.length - 1) {
			        currentIndex++;
			        updateReport();
			    }
			});

			// Initialize first report
			updateReport();
		</script>
	</body>
</html>

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Posts Gallore</title>
	</head>
	<body>
		<h1>Posts</h1>
		<div id="posts"></div>
		<form id="form">
			<input name="title" type="text" placeholder="title" />
			<input name="description" type="text" placeholder="description" />
			<input name="authors" type="text" placeholder="authors" />
			<input name="file_url" type="text" placeholder="file" />
			<input type="submit" value="submit" />
		</form>
		<script>
			const formDatas = document.getElementById("form");

			formDatas.addEventListener("submit", (e) => {
				e.preventDefault();
				const newForm = new FormData(formDatas);
				newForm.append("title", form.title.value);
				newForm.append("description", form.description.value);
				newForm.append("authors", form.authors.value);
				newForm.append("file_url", form.file_url.value);
				console.log(newForm);
				// console.log(e.target);

				fetch("/fakePost", { method: "POST", body: newForm })
					.then((response) => response.json())
					.then((data) => console.log(data))
					.catch((e) => console.log(`error: ${e}`));
			});
		</script>
	</body>
</html>
